{% extends "base.html" %}
{% block content %}

<div class="row page-header">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <h2>
            Edit user: &emsp;<span class="text-success">{{ user.username }}</span>
        </h2>
    </div>
</div>

<div class="row">
    <div class="col-xs-12 col-sm-11 col-md-8 col-lg-4">
        {% if form.non_field_errors %}
            <div id="login-alert" class="alert alert-danger col-sm-12">
                {{ form.non_field_errors }}
            </div>
        {% endif %}
        <form class="form-horizontal" method="post" action="{% url 'accounts:user-update' user.id %}">
        {% csrf_token %}
            <div class="form-group">
                <label class="col-sm-2 control-label">Login*</label>
                <div class="col-sm-10">
                    {{ form.username }}
                    <span class="text-danger">{{ form.username.errors }}</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">E-mail*</label>
                <div class="col-sm-10">
                    {{ form.email }}
                    <span class="text-danger">{{ form.email.errors }}</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">First name</label>
                <div class="col-sm-10">
                    {{ form.first_name }}
                    <span class="text-danger">{{ form.first_name.errors }}</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Last name</label>
                <div class="col-sm-10">
                    {{ form.last_name }}
                    <span class="text-danger">{{ form.last_name.errors }}</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Active</label>
                <div class="col-sm-10">
                    {{ form.is_active }}
                    <span class="text-danger">{{ form.is_active.errors }}</span>
                </div>
            </div>

            {% if request.user.is_staff %}
            <div class="form-group">
                <label class="col-sm-2 control-label">Client</label>
                <div class="col-sm-10">
                    {{ form.client }}
                </div>
            </div>
            {% endif %}
            
            <div class="form-group button">
                <label class="col-sm-3 control-label"></label>
                <div class="col-sm-10 controls">
                    <input type="submit" id="btn-edit" class="btn btn-success" value="Edit">
                    <a id="btn-cancel" href="{% url 'accounts:user-list' %}" class="btn btn-warning">Cancel</a>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-12 control text-right">
                    <small>* Pola obowiÄ…zkowe</small>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock content %}
